{"version":3,"sources":["images/header__logo.svg","images/popup__successful-register.svg","images/popup__err-register.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","utils/api.js","utils/constants.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","components/InfoTooltip.js","components/App.js","index.js"],"names":["module","exports","Header","email","onSignOut","className","src","logo","alt","onClick","CurrentUserContext","React","createContext","Card","link","cardId","handleCardClick","onCardLike","onCardDelete","owner","name","likes","userContext","useContext","isLiked","some","i","_id","type","id","length","Main","onEditProfile","onAddPlace","onEditAvatar","onCardClick","cards","avatar","about","map","props","key","Footer","api","options","this","url","baseUrl","response","ok","json","Promise","reject","statusText","token","fetch","method","headers","then","_handleResponse","data","body","JSON","stringify","object","password","ImagePopup","onClose","card","PopupWithForm","title","submitButtonText","isOpen","children","onSubmit","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","currentUser","useEffect","e","preventDefault","value","onChange","target","minLength","maxLength","placeholder","required","EditAvatarPopup","onUpdateAvatar","inputValue","useRef","current","ref","AddPlacePopup","inputPlaceName","inputPlaceLink","Login","onSetEmail","onLogin","setEmail","setPassword","to","Register","onRegister","ProtectedRoute","Component","component","loggedIn","InfoTooltip","success","successText","successfulImg","errImg","withRouter","tokenCheck","history","useHistory","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","isInfoTooltipSuccess","setIsInfoTooltipSuccess","isInfoTooltipText","setIsInfoTooltipText","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","handleSetEmail","localStorage","getItem","getUser","res","getInitialCards","reverse","catch","err","console","log","loginUser","push","closeAllPopups","Provider","removeItem","path","setItem","registerUser","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","updateProfileInfo","newProfile","createCard","updateProfileAvatar","newAvatar","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"wIAAAA,EAAOC,QAAU,IAA0B,0C,mBCA3CD,EAAOC,QAAU,IAA0B,wD,mBCA3CD,EAAOC,QAAU,IAA0B,iD,oLCc5BC,MAXf,YAAuC,IAArBC,EAAoB,EAApBA,MAAOC,EAAa,EAAbA,UACvB,OACE,4BAAQC,UAAU,UAChB,yBAAKA,UAAU,eAAeC,IAAKC,IAAMC,IAAI,mCAC7C,uBAAGH,UAAU,gBAA2B,mCAAVF,GAAiC,uEAAVA,EAA2BA,EAAc,IAC9F,4BAAQE,UAAU,iBAAiBI,QAASL,GAAuB,mCAAVD,GAAiC,uEAAVA,EAA2BA,EAAQ,kCACnH,4BAAQE,UAAU,4B,QCPXK,EAAqBC,IAAMC,gBC2BzBC,MA1Bf,YAA8F,IAA/EC,EAA8E,EAA9EA,KAAMC,EAAwE,EAAxEA,OAAQC,EAAgE,EAAhEA,gBAAiBC,EAA+C,EAA/CA,WAAYC,EAAmC,EAAnCA,aAAcC,EAAqB,EAArBA,MAAOC,EAAc,EAAdA,KAAMC,EAAQ,EAARA,MAC7EC,EAAcX,IAAMY,WAAWb,GAC/Bc,EAAUH,EAAMI,MAAK,SAAAC,GAAC,OAAIA,IAAMJ,EAAYK,OAalD,OACI,yBAAKtB,UAAU,QACb,yBAAKA,UAAU,cAAcC,IAAKQ,EAAMN,IAAKY,EAAMX,QAdzD,WACEO,EAAgB,CAACI,OAAMN,YAclBQ,EAAYK,MAAQR,EAAS,4BAAQS,KAAK,SAASvB,UAAU,qBAAqBI,QAPzF,WACES,EAAa,CAACH,cAMoH,qCAC9H,uBAAGV,UAAU,cAAce,GAC3B,4BAAQQ,KAAK,SAASvB,UAAWmB,EAAU,6CAA+C,oBAAqBK,GAAG,OAAOpB,QAb/H,WACEQ,EAAW,CAACF,SAAQM,aAahB,uBAAGhB,UAAU,sBAAsBgB,EAAMS,UCOlCC,MA1Bf,YAAwG,IAAzFC,EAAwF,EAAxFA,cAAeC,EAAyE,EAAzEA,WAAYC,EAA6D,EAA7DA,aAAcC,EAA+C,EAA/CA,YAAaC,EAAkC,EAAlCA,MAAOnB,EAA2B,EAA3BA,WAAYC,EAAe,EAAfA,aAChFI,EAAcX,IAAMY,WAAWb,GACrC,OACE,0BAAML,UAAU,QACZ,6BAASA,UAAU,WACjB,yBAAKA,UAAU,mBACb,yBAAKA,UAAU,eAAeC,IAAKgB,EAAYe,OAAQ7B,IAAI,4DAC3D,yBAAKH,UAAU,mBAAmBI,QAASyB,KAE7C,yBAAK7B,UAAU,iBACb,uBAAGA,UAAU,mBAAmBiB,EAAYF,MAC5C,4BAAQQ,KAAK,SAASvB,UAAU,uBAAuBI,QAASuB,IAChE,uBAAG3B,UAAU,oBAAoBiB,EAAYgB,QAE/C,4BAAQV,KAAK,SAASvB,UAAU,sBAAsBI,QAASwB,KAEjE,6BAAS5B,UAAU,SAEjB+B,EAAMG,KAAI,gBAAEZ,EAAF,EAAEA,IAAQa,EAAV,8BACV,kBAAC,EAAD,eAAMC,IAAKd,EAAKV,WAAYA,EAAYC,aAAcA,EAAcF,gBAAiBmB,EAAapB,OAAQY,GAASa,UCd9GE,MARf,WACE,OACE,4BAAQrC,UAAU,UAChB,uBAAGA,UAAU,gBAAb,4B,gBC8JSsC,EAFH,I,WA9JV,WAAYC,GAAU,oBACpBC,KAAKC,IAAMF,EAAQG,Q,4DAGLC,GACd,OAAIA,EAASC,GACJD,EAASE,OAETC,QAAQC,OAAOJ,EAASK,c,8BAI3BC,GACN,OAAOC,MAAM,GAAD,OAAIV,KAAKC,IAAT,aACZ,CACEU,OAAQ,MACRC,QAAS,CACP,eAAgB,mBAChB,cAAgB,UAAhB,OAA2BH,MAG5BI,KAAKb,KAAKc,mB,sCAGCL,GACd,OAAOC,MAAM,GAAD,OAAIV,KAAKC,IAAT,UACZ,CACEU,OAAQ,MACRC,QAAS,CACP,eAAgB,mBAChB,cAAgB,UAAhB,OAA2BH,MAG5BI,KAAKb,KAAKc,mB,wCAGGC,EAAMN,GACtB,OAAOC,MAAM,GAAD,OAAIV,KAAKC,IAAT,aACV,CACEU,OAAQ,QACRC,QAAS,CACP,eAAgB,mBAChB,cAAgB,UAAhB,OAA2BH,IAE7BO,KAAMC,KAAKC,UAAU,CACnB3C,KAAMwC,EAAKxC,KACXkB,MAAOsB,EAAKI,WAIfN,KAAKb,KAAKc,mB,0CAGKC,EAAMN,GACxB,OAAOC,MAAM,GAAD,OAAIV,KAAKC,IAAT,oBACV,CACEU,OAAQ,QACRC,QAAS,CACP,eAAgB,mBAChB,cAAgB,UAAhB,OAA2BH,IAE7BO,KAAMC,KAAKC,UAAU,CACnB1B,OAAQuB,EAAKvB,WAIhBqB,KAAKb,KAAKc,mB,iCAGJC,EAAMN,GACf,OAAOC,MAAM,GAAD,OAAIV,KAAKC,IAAT,UACV,CACEU,OAAQ,OACRC,QAAS,CACP,eAAgB,mBAChB,cAAgB,UAAhB,OAA2BH,IAE7BO,KAAMC,KAAKC,UAAU,CACnB3C,KAAMwC,EAAKxC,KACXN,KAAM8C,EAAKI,WAIdN,KAAKb,KAAKc,mB,iCAGJ9B,EAAIyB,GACb,OAAOC,MAAM,GAAD,OAAIV,KAAKC,IAAT,kBAAsBjB,GAChC,CACE2B,OAAQ,SACRC,QAAS,CACP,eAAgB,mBAChB,cAAgB,UAAhB,OAA2BH,MAI9BI,KAAKb,KAAKc,mB,2CAGM9B,EAAIL,EAAS8B,GAChC,OAAI9B,EACK+B,MAAM,GAAD,OAAIV,KAAKC,IAAT,wBAA4BjB,GACxC,CACE2B,OAAQ,MACRC,QAAS,CACP,eAAgB,mBAChB,cAAgB,UAAhB,OAA2BH,MAI9BI,KAAKb,KAAKc,iBAEJJ,MAAM,GAAD,OAAIV,KAAKC,IAAT,wBAA4BjB,GACxC,CACE2B,OAAQ,SACRC,QAAS,CACP,eAAgB,mBAChB,cAAgB,UAAhB,OAA2BH,MAI9BI,KAAKb,KAAKc,mB,mCAIFC,GACX,OAAOL,MAAM,GAAD,OAAIV,KAAKC,IAAT,YACV,CACEU,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBI,KAAMC,KAAKC,UAAU,CACnB5D,MAAOyD,EAAKzD,MACZ8D,SAAUL,EAAKK,aAIpBP,KAAKb,KAAKc,mB,gCAGHC,GACR,OAAOL,MAAM,GAAD,OAAIV,KAAKC,IAAT,YACV,CACEU,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBI,KAAMC,KAAKC,UAAU,CACnBE,SAAUL,EAAKK,SACf9D,MAAOyD,EAAKzD,UAIjBuD,KAAKb,KAAKc,qB,KAIH,CCjKU,CACpBZ,QAAS,iDCaImB,MAZf,YAAuC,IAAlBC,EAAiB,EAAjBA,QAASC,EAAQ,EAARA,KAC5B,OACE,yBAAK/D,UAAW+D,EAAO,qBAAsB,QAASvC,GAAG,SACvD,yBAAKxB,UAAU,0BACb,4BAAQuB,KAAK,SAASvB,UAAU,sBAAsBI,QAAS0D,IAC/D,yBAAK9D,UAAU,qBAAqBC,IAAK8D,EAAOA,EAAKtD,KAAO,GAAIN,IAAK4D,EAAOA,EAAKhD,KAAO,KACxF,uBAAGf,UAAU,qBAAqB+D,EAAOA,EAAKhD,KAAO,OCO9CiD,MAbf,YAA8F,IAAtEC,EAAqE,EAArEA,MAAOlD,EAA8D,EAA9DA,KAAMmD,EAAwD,EAAxDA,iBAAkBC,EAAsC,EAAtCA,OAAQL,EAA8B,EAA9BA,QAASM,EAAqB,EAArBA,SAAUC,EAAW,EAAXA,SAChF,OACE,yBAAKrE,UAAWmE,EAAS,qBAAsB,QAAS3C,GAAIT,GAC1D,0BAAMf,UAAU,mBAAmBqE,SAAUA,GAC3C,4BAAQ9C,KAAK,SAASvB,UAAU,sBAAsBI,QAAS0D,IAC/D,wBAAI9D,UAAU,gBAAgBiE,GAC7BG,EACD,4BAAQ7C,KAAK,SAASvB,UAAU,wBAAwBkE,MCiCjDI,MAtCf,YAA4D,IAAjCH,EAAgC,EAAhCA,OAAQL,EAAwB,EAAxBA,QAASS,EAAe,EAAfA,aAAe,EACjCjE,IAAMkE,SAAS,IADkB,mBAClDzD,EADkD,KAC5C0D,EAD4C,OAEnBnE,IAAMkE,SAAS,IAFI,mBAElDE,EAFkD,KAErCC,EAFqC,KAGnDC,EAActE,IAAMY,WAAWb,GAyBrC,OAPAC,IAAMuE,WAAU,WACdJ,EAAQG,EAAY7D,MACpB4D,EAAeC,EAAY3C,SAC1B,CAAC2C,IAKF,kBAAC,EAAD,CAAgBX,MAAM,4HAAwBlD,KAAK,YAAYmD,iBAAiB,yDAAYC,OAAQA,EAAQL,QAASA,EAASO,SAhBhI,SAAsBS,GACpBA,EAAEC,iBACFR,EAAa,CACXxD,KAAMA,EACN4C,OAAQe,MAaR,2BAAOnD,KAAK,OAAOyD,MAAOjE,GAAQ,GAAIkE,SAzB1C,SAA0BH,GACxBL,EAAQK,EAAEI,OAAOF,QAwBmDhF,UAAU,eAAewB,GAAG,OAAO2D,UAAU,IAAIC,UAAU,KAAKC,YAAY,qBAAMC,UAAQ,EAACvE,KAAK,SAClK,0BAAMf,UAAU,oBAAoBwB,GAAG,eACvC,2BAAOD,KAAK,OAAOyD,MAAON,GAAe,GAAIO,SAvBjD,SAAiCH,GAC/BH,EAAeG,EAAEI,OAAOF,QAsB0DhF,UAAU,eAAewB,GAAG,UAAU6D,YAAY,kCAASF,UAAU,IAAIC,UAAU,MAAME,UAAQ,EAACvE,KAAK,WACvL,0BAAMf,UAAU,oBAAoBwB,GAAG,oBCjB9B+D,MAjBf,YAA6D,IAAnCpB,EAAkC,EAAlCA,OAAQL,EAA0B,EAA1BA,QAAS0B,EAAiB,EAAjBA,eACnCC,EAAanF,IAAMoF,SASzB,OACE,kBAAC,EAAD,CAAgBzB,MAAM,wFAAkBlD,KAAK,cAAcmD,iBAAiB,yDAAYC,OAAQA,EAAQL,QAASA,EAASO,SAR5H,SAAsBS,GACpBA,EAAEC,iBACFS,EAAe,CACbxD,OAAQyD,EAAWE,QAAQX,UAM3B,2BAAOzD,KAAK,MAAMvB,UAAU,wCAAwCwB,GAAG,SAAS6D,YAAY,qGAAqBC,UAAQ,EAACvE,KAAK,SAAS6E,IAAKH,MCUpII,MAtBf,YAAuD,IAA/B1B,EAA8B,EAA9BA,OAAQL,EAAsB,EAAtBA,QAASlC,EAAa,EAAbA,WACjCkE,EAAiBxF,IAAMoF,SACvBK,EAAiBzF,IAAMoF,SAU7B,OACE,kBAAC,EAAD,CAAgBzB,MAAM,gEAAclD,KAAK,WAAWmD,iBAAiB,6CAAUC,OAAQA,EAAQL,QAASA,EAASO,SATnH,SAAsBS,GACpBA,EAAEC,iBACFnD,EAAW,CACTb,KAAM+E,EAAeH,QAAQX,MAC7BrB,OAAQoC,EAAeJ,QAAQX,UAM/B,2BAAOzD,KAAK,OAAOvB,UAAU,eAAewB,GAAG,QAAQ6D,YAAY,mDAAWF,UAAU,IAAIC,UAAU,KAAKE,UAAQ,EAACvE,KAAK,OAAO6E,IAAKE,IACrI,0BAAM9F,UAAU,oBAAoBwB,GAAG,gBACvC,2BAAOD,KAAK,MAAMvB,UAAU,eAAewB,GAAG,SAAS6D,YAAY,qGAAqBC,UAAQ,EAACvE,KAAK,SAAS6E,IAAKG,IACpH,0BAAM/F,UAAU,oBAAoBwB,GAAG,mB,OCoB9BwE,MArCf,YAAyC,IAAxBC,EAAuB,EAAvBA,WAAYC,EAAW,EAAXA,QAC3B5F,IAAMuE,WAAU,WAAOoB,EAAW,CAAEnG,MAAO,yEAAiB,IADtB,MAGZQ,IAAMkE,SAAS,IAHH,mBAG/B1E,EAH+B,KAGxBqG,EAHwB,OAIN7F,IAAMkE,SAAS,IAJT,mBAI/BZ,EAJ+B,KAIrBwC,EAJqB,KAwBtC,OACE,yBAAKpG,UAAU,QACb,0BAAMA,UAAU,kBAAkBqE,SAZtC,SAAsBS,GACpBA,EAAEC,iBACGjF,GAAU8D,IAGfsC,EAAQ,CAAEtC,WAAU9D,UACpBqG,EAAS,IACTC,EAAY,OAMR,wBAAIpG,UAAU,eAAd,4BACA,2BAAOuB,KAAK,QAAQyD,MAAOlF,EAAOE,UAAU,cAAcqF,YAAY,QAAQC,UAAQ,EAACL,SAtB7F,SAA2BH,GACzBqB,EAASrB,EAAEI,OAAOF,UAsBd,2BAAOzD,KAAK,WAAWyD,MAAOpB,EAAW5D,UAAU,cAAcqF,YAAY,uCAASC,UAAQ,EAACL,SAnBrG,SAA8BH,GAC5BsB,EAAYtB,EAAEI,OAAOF,UAmBjB,4BAAQzD,KAAK,SAASvB,UAAU,uBAAhC,kCACA,kBAAC,IAAD,CAAMqG,GAAG,WAAWrG,UAAU,kBAA9B,2MCCOsG,MAhCf,YAA+C,IAA3BL,EAA0B,EAA1BA,WAAYM,EAAc,EAAdA,WAC9BjG,IAAMuE,WAAU,WAAOoB,EAAW,CAAEnG,MAAO,qCAAY,IADX,MAGlBQ,IAAMkE,SAAS,IAHG,mBAGrC1E,EAHqC,KAG9BqG,EAH8B,OAIZ7F,IAAMkE,SAAS,IAJH,mBAIrCZ,EAJqC,KAI3BwC,EAJ2B,KAmB5C,OACI,yBAAKpG,UAAU,QACb,0BAAMA,UAAU,kBAAkBqE,SAPxC,SAAsBS,GACpBA,EAAEC,iBACFwB,EAAW,CAAE3C,WAAU9D,YAMjB,wBAAIE,UAAU,eAAd,sEACA,2BAAOuB,KAAK,QAAQyD,MAAOlF,EAAOE,UAAU,cAAcqF,YAAY,QAAQC,UAAQ,EAACL,SAjB/F,SAA2BH,GACzBqB,EAASrB,EAAEI,OAAOF,UAiBZ,2BAAOzD,KAAK,WAAWyD,MAAOpB,EAAU5D,UAAU,cAAcqF,YAAY,uCAASC,UAAQ,EAACL,SAdtG,SAA8BH,GAC5BsB,EAAYtB,EAAEI,OAAOF,UAcf,4BAAQzD,KAAK,SAASvB,UAAU,uBAAhC,gHACA,kBAAC,IAAD,CAAMqG,GAAG,WAAWrG,UAAU,kBAA9B,0JChBKwG,EAVQ,SAAC,GAAyC,IAA5BC,EAA2B,EAAtCC,UAAyBvE,EAAa,6BAC9D,OACE,kBAAC,IAAD,MAEI,kBAAMA,EAAMwE,SAAW,kBAACF,EAActE,GAAY,kBAAC,IAAD,CAAUkE,GAAG,kB,kCCSxDO,MAZf,YAAiE,IAA1CzC,EAAyC,EAAzCA,OAAQ0C,EAAiC,EAAjCA,QAASC,EAAwB,EAAxBA,YAAahD,EAAW,EAAXA,QACnD,OACE,yBAAK9D,UAAWmE,EAAS,qBAAsB,SAC7C,yBAAKnE,UAAU,8CACb,4BAAQuB,KAAK,SAASvB,UAAU,mDAAmDI,QAAS0D,IAC5F,yBAAK9D,UAAU,eAAeC,IAAK4G,EAAUE,IAAgBC,IAAQ7G,IAAK0G,EAAU,yFAAqB,2FACzG,wBAAI7G,UAAU,sCAAsC8G,MC4M7CG,mBAtMf,WACE3G,IAAMuE,WAAU,WAAQqC,OAAgB,IAExC,IAAMC,EAAUC,cAHH,EAI+C9G,IAAMkE,UAAS,GAJ9D,mBAIN6C,EAJM,KAIkBC,EAJlB,OAKyChH,IAAMkE,UAAS,GALxD,mBAKN+C,EALM,KAKeC,EALf,OAM6ClH,IAAMkE,UAAS,GAN5D,mBAMNiD,EANM,KAMiBC,EANjB,OAOqCpH,IAAMkE,UAAS,GAPpD,mBAONmD,EAPM,KAOaC,EAPb,OAQ2CtH,IAAMkE,UAAS,GAR1D,mBAQNqD,EARM,KAQgBC,EARhB,OASqCxH,IAAMkE,SAAS,IATpD,mBASNuD,EATM,KASaC,EATb,OAU2B1H,IAAMkE,WAVjC,mBAUNyD,EAVM,KAUQC,EAVR,OAWyB5H,IAAMkE,SAAS,IAXxC,mBAWNI,EAXM,KAWOuD,EAXP,OAYa7H,IAAMkE,SAAS,IAZ5B,mBAYNzC,EAZM,KAYCqG,EAZD,QAamB9H,IAAMkE,UAAS,GAblC,qBAaNmC,GAbM,MAaI0B,GAbJ,SAca/H,IAAMkE,SAAS,IAd5B,qBAcN1E,GAdM,MAcCqG,GAdD,MAgBb,SAASmC,GAAe/E,GACtB4C,GAAS5C,EAAKzD,OA2ChB,SAASoH,KACP,GAAIqB,aAAaC,QAAQ,SAAS,CAChC,IAAMvF,EAAQsF,aAAaC,QAAQ,SACnClG,EAAImG,QAAQxF,GACTI,MAAK,SAACqF,IAQb,SAAmBnF,GACjB8E,IAAY,GACZC,GAAe/E,GACf4E,EAAe5E,GACf,IAAMN,EAAQsF,aAAaC,QAAQ,SACnClG,EAAIqG,gBAAgB1F,GACjBI,MAAK,SAACE,GACL6E,EAAS7E,EAAKqF,cAEfC,OAAM,SAACC,GACNC,QAAQC,IAAR,4IAAwCF,OAjBtCG,CAAUP,GACVvB,EAAQ+B,KAAK,QAEdL,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAI,kIA6ClC,IAkDMG,GAAiB,WACrB7B,GAA0B,GAC1BI,GAAyB,GACzBF,GAAuB,GACvBI,GAAqB,GACrBM,KAGF,OACE,kBAAC7H,EAAmB+I,SAApB,CAA6BpE,MAAOJ,GAClC,yBAAK5E,UAAU,QACb,kBAAC,EAAD,CAAQF,MAAOA,GAAOC,UA3I5B,WACgB,uEAAVD,GACFqH,EAAQ+B,KAAK,aAEC,mCAAVpJ,IACFyI,aAAac,WAAW,SAE1BlC,EAAQ+B,KAAK,gBAqIX,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOI,KAAK,YACV,kBAAC,EAAD,CAAOrD,WAAYqC,GAAgBpC,QAnI7C,SAAqB3C,GACnBjB,EAAI2G,UAAU1F,GACXF,MAAK,SAACqF,GACLH,aAAagB,QAAQ,QAASb,EAAIzF,OAClCiE,QAED2B,OAAM,SAACC,GACNC,QAAQC,IAAR,+EAA6BF,IAC7Bd,EAAqB,uMACrBJ,GAAqB,GACrBE,GAAwB,UA2HtB,kBAAC,IAAD,CAAOwB,KAAK,YACV,kBAAC,EAAD,CAAUrD,WAAYqC,GAAgB/B,WAhKhD,SAAwBhD,GACtBjB,EAAIkH,aAAajG,GACdF,MAAK,SAACqF,GACLvB,EAAQ+B,KAAK,YACblB,EAAqB,yKACrBJ,GAAqB,GACrBE,GAAwB,MAEzBe,OAAM,SAACC,GACNd,EAAqB,uMACrBJ,GAAqB,GACrBE,GAAwB,UAuJtB,kBAAC,EAAD,CAAgBwB,KAAK,IAAI3C,SAAUA,GAAUD,UAAWhF,EAAMC,cArEvC,WAC7B2F,GAA0B,IAoEiF1F,WA/DjF,WAC1B4F,GAAuB,IA8DqH3F,aAlEhH,WAC5B6F,GAAyB,IAiEwJ5F,YA3D3J,SAACyB,GACvB2E,EAAgB3E,IA0D+LxB,MAAOA,EAAOnB,WAhG/N,SAAwBmD,GACtB,IAAM5C,EAAU4C,EAAK/C,MAAMI,MAAK,SAAAC,GAAC,OAAIA,IAAMuD,EAAYtD,OACjD2B,EAAQsF,aAAaC,QAAQ,SACnClG,EAAImH,qBAAqB1F,EAAKrD,QAASS,EAAS8B,GAC7CI,MAAK,SAACqG,GACL,IAAMC,EAAW5H,EAAMG,KAAI,SAAC0H,GAAD,OAAOA,EAAEtI,MAAQyC,EAAKrD,OAASgJ,EAAUE,KACpExB,EAASuB,MAEVd,OAAM,SAACC,GACNC,QAAQC,IAAR,+EAA6BF,QAuFwNjI,aAnF3P,SAA0BW,GACxB,IAAMyB,EAAQsF,aAAaC,QAAQ,SACnClG,EAAIuH,WAAWrI,EAAGd,OAAQuC,GACvBI,MAAK,WACJ,IAAMsG,EAAW5H,EAAM+H,QAAO,SAACF,GAC7B,QAASA,EAAEtI,MAAQE,EAAGd,WAExB0H,EAASuB,MAEVd,OAAM,SAACC,GACNC,QAAQC,IAAR,kJAAyCF,UA0EvC,kBAAC,IAAD,KACGnC,GAAW,kBAAC,IAAD,CAAUN,GAAG,MAAS,kBAAC,IAAD,CAAUA,GAAG,eAGnD,kBAAC,EAAD,MACA,kBAAC,EAAD,CAAkBlC,OAAQkD,EAAwBvD,QAASqF,GAAgB5E,aA7DxD,SAAChB,GACxB,IAAMN,EAAQsF,aAAaC,QAAQ,SACnClG,EAAIyH,kBAAkBxG,EAAMN,GACzBI,MAAK,SAAC2G,GACL7B,EAAe6B,GACfb,QAEDN,OAAM,SAACC,GACNC,QAAQC,IAAR,wJAA0CF,UAsD1C,kBAAC,EAAD,CAAe3E,OAAQoD,EAAqBzD,QAASqF,GAAgBvH,WAtCpD,SAAC2B,GACtB,IAAMN,EAAQsF,aAAaC,QAAQ,SACnClG,EAAI2H,WAAW1G,EAAMN,GAClBI,MAAK,SAACqG,GACLtB,EAAS,CAACsB,GAAF,mBAAc3H,KACtBoH,QAEDN,OAAM,SAACC,GACNC,QAAQC,IAAR,kJAAyCF,UA+BzC,kBAAC,EAAD,CAAiB3E,OAAQsD,EAAuB3D,QAASqF,GAAgB3D,eAnDpD,SAACjC,GAC1B,IAAMN,EAAQsF,aAAaC,QAAQ,SACnClG,EAAI4H,oBAAoB3G,EAAMN,GAC3BI,MAAK,SAAC8G,GACLhC,EAAegC,GACfhB,QAEDN,OAAM,SAACC,GACNC,QAAQC,IAAR,wJAA0CF,UA4C1C,kBAAC,EAAD,CAAYhF,QAASqF,GAAgBpF,KAAMkE,IAC3C,kBAAC,EAAD,CAAa9D,OAAQwD,EAAmBd,QAASgB,EAAsB/D,QAASqF,GAAgBrC,YAAaiB,SC1MrHqC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,IAAD,KACE,kBAAC,EAAD,QAGJC,SAASC,eAAe,W","file":"static/js/main.25bc9cc0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/header__logo.c6f11019.svg\";","module.exports = __webpack_public_path__ + \"static/media/popup__successful-register.e38b395c.svg\";","module.exports = __webpack_public_path__ + \"static/media/popup__err-register.4072126c.svg\";","import React from 'react';\nimport logo from '../images/header__logo.svg';\n\nfunction Header({ email, onSignOut }) {\n  return (\n    <header className=\"header\">\n      <img className=\"header__logo\" src={logo} alt=\"Место\" />\n      <p className=\"header__mail\">{(email !== 'Войти') ? ((email !== 'Регистрация') ? email : '') : ''}</p>\n      <button className=\"header__button\" onClick={onSignOut}>{(email === 'Войти') || (email === 'Регистрация') ? email : 'Выйти'}</button>\n      <button className=\"header__mobile-button\"></button>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card({link, cardId, handleCardClick, onCardLike, onCardDelete, owner, name, likes}) {\n  const userContext = React.useContext(CurrentUserContext);\n  const isLiked = likes.some(i => i === userContext._id);\n  function handleClick() {\n    handleCardClick({name, link});\n  }\n\n  function handleLikeClick() {\n    onCardLike({cardId, likes});\n  }\n\n  function handleDeleteClick() {\n    onCardDelete({cardId});\n  }\n\n  return (\n      <div className=\"card\">\n        <img className=\"card__image\" src={link} alt={name} onClick={handleClick} />\n        {userContext._id === owner ? (<button type=\"button\" className=\"card__trash-button\" onClick={handleDeleteClick} ></button>) : (<></>) }\n        <p className=\"card__text\">{name}</p>\n        <button type=\"button\" className={isLiked ? 'card__like-button card__like-button_active' : 'card__like-button'} id=\"like\" onClick={handleLikeClick} ></button>\n        <p className=\"card__like-counter\">{likes.length}</p>\n      </div>\n  );\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\n\nfunction Main({onEditProfile, onAddPlace, onEditAvatar, onCardClick, cards, onCardLike, onCardDelete}) {\n  const userContext = React.useContext(CurrentUserContext);\n  return (\n    <main className=\"main\">\n        <section className=\"profile\">\n          <div className=\"profile__avatar\">\n            <img className=\"profile__img\" src={userContext.avatar} alt=\"Ваш аватар\" />\n            <div className=\"profile__overlay\" onClick={onEditAvatar}></div>\n          </div>\n          <div className=\"profile__info\">\n            <p className=\"profile__author\">{userContext.name}</p>\n            <button type=\"button\" className=\"profile__edit-button\" onClick={onEditProfile}></button>\n            <p className=\"profile__subject\">{userContext.about}</p>\n          </div>\n          <button type=\"button\" className=\"profile__add-button\" onClick={onAddPlace}></button>\n        </section>\n        <section className=\"cards\">\n          {\n          cards.map(({_id, ...props}) =>\n          <Card key={_id} onCardLike={onCardLike} onCardDelete={onCardDelete} handleCardClick={onCardClick} cardId={_id} {...props} />)\n          }\n        </section>\n      </main>\n  );\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__text\">&#169; 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import {config} from './constants';\n\nclass Api {\n  constructor(options) {\n    this.url = options.baseUrl;\n  }\n\n  _handleResponse(response){\n    if (response.ok) {\n      return response.json();\n    } else {\n      return Promise.reject(response.statusText);\n    }\n  }\n\n  getUser(token) {\n    return fetch(`${this.url}/users/me`,\n    {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'authorization': `Bearer ${token}`\n      }\n    })\n      .then(this._handleResponse);\n  }\n\n  getInitialCards(token) {\n    return fetch(`${this.url}/cards`,\n    {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'authorization': `Bearer ${token}`\n      }\n    })\n      .then(this._handleResponse);\n  }\n\n  updateProfileInfo(data, token) {\n    return fetch(`${this.url}/users/me`,\n      {\n        method: 'PATCH',\n        headers: {\n          'Content-Type': 'application/json',\n          'authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          name: data.name,\n          about: data.object\n        })\n      }\n    )\n      .then(this._handleResponse);\n  }\n\n  updateProfileAvatar(data, token) {\n    return fetch(`${this.url}/users/me/avatar`,\n      {\n        method: 'PATCH',\n        headers: {\n          'Content-Type': 'application/json',\n          'authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          avatar: data.avatar\n        })\n      }\n    )\n      .then(this._handleResponse);\n  }\n\n  createCard(data, token) {\n    return fetch(`${this.url}/cards`,\n      {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          name: data.name,\n          link: data.object\n        })\n      }\n    )\n      .then(this._handleResponse);\n  }\n\n  deleteCard(id, token) {\n    return fetch(`${this.url}/cards/${id}`,\n      {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n          'authorization': `Bearer ${token}`\n        }\n      }\n    )\n      .then(this._handleResponse);\n  }\n\n  changeLikeCardStatus(id, isLiked, token) {\n    if (isLiked) {\n      return fetch(`${this.url}/cards/likes/${id}`,\n      {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          'authorization': `Bearer ${token}`\n        }\n      }\n    )\n      .then(this._handleResponse);\n    } else {\n      return fetch(`${this.url}/cards/likes/${id}`,\n      {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n          'authorization': `Bearer ${token}`\n        }\n      }\n    )\n      .then(this._handleResponse);\n    }\n  }\n\n  registerUser(data) {\n    return fetch(`${this.url}/sign-up`,\n      {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email: data.email,\n          password: data.password\n        })\n      }\n    )\n    .then(this._handleResponse);\n  }\n\n  loginUser(data) {\n    return fetch(`${this.url}/sign-in`,\n      {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          password: data.password,\n          email: data.email\n        })\n      }\n    )\n    .then(this._handleResponse);\n  }\n}\n\nconst api = new Api(config);\n\nexport default api;\n","export const config = {\n  baseUrl: 'https://api.maxsin.students.nomoreparties.co',\n};\n","import React from 'react';\n\nfunction ImagePopup({onClose, card }) {\n  return (\n    <div className={card ? 'popup popup_opened': 'popup'} id=\"photo\">\n      <div className=\"popup__photo-container\">\n        <button type=\"button\" className=\"popup__close-button\" onClick={onClose}></button>\n        <img className=\"popup__photo-image\" src={card ? card.link : ''} alt={card ? card.name : ''} />\n        <p className=\"popup__photo-text\">{card ? card.name : ''}</p>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","import React from 'react';\n\nfunction PopupWithForm({title, name, submitButtonText, isOpen, onClose, children, onSubmit}) {\n  return (\n    <div className={isOpen ? 'popup popup_opened': 'popup'} id={name}>\n      <form className=\"popup__container\" onSubmit={onSubmit} >\n        <button type=\"button\" className=\"popup__close-button\" onClick={onClose}></button>\n        <h2 className=\"popup__title\">{title}</h2>\n        {children}\n        <button type=\"submit\" className=\"popup__submit-button\">{submitButtonText}</button>\n      </form>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\n  const [name, setName] = React.useState('');\n  const [description, setDescription] = React.useState('');\n  const currentUser = React.useContext(CurrentUserContext);\n\n  function handleNameChange(e) {\n    setName(e.target.value);\n  }\n\n  function handleDescriptionChange(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateUser({\n      name: name,\n      object: description,\n    });\n  }\n\n  React.useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser]);\n\n\n\n  return (\n    <PopupWithForm  title=\"Редактировать профиль\" name=\"editPopup\" submitButtonText=\"Сохранить\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} >\n      <input type=\"text\" value={name || ''} onChange={handleNameChange} className=\"popup__input\" id=\"name\" minLength=\"2\" maxLength=\"40\" placeholder=\"Имя\" required name=\"name\" />\n      <span className=\"popup__text-error\" id=\"name-error\"></span>\n      <input type=\"text\" value={description || ''} onChange={handleDescriptionChange} className=\"popup__input\" id=\"subject\" placeholder=\"О себе\" minLength=\"2\" maxLength=\"200\" required name=\"object\" />\n      <span className=\"popup__text-error\" id=\"subject-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\n  const inputValue = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onUpdateAvatar({\n      avatar: inputValue.current.value\n    });\n  }\n\n  return (\n    <PopupWithForm  title=\"Обновить аватар\" name=\"avatarPopup\" submitButtonText=\"Сохранить\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} >\n      <input type=\"url\" className=\"popup__input popup__input_type_avatar\" id=\"source\" placeholder=\"Ссылка на аватарку\" required name=\"object\" ref={inputValue} />\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup({isOpen, onClose, onAddPlace}) {\n  const inputPlaceName = React.useRef();\n  const inputPlaceLink = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onAddPlace({\n      name: inputPlaceName.current.value,\n      object: inputPlaceLink.current.value\n    });\n  }\n\n  return (\n    <PopupWithForm  title=\"Новое место\" name=\"addPopup\" submitButtonText=\"Создать\" isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit} >\n      <input type=\"text\" className=\"popup__input\" id=\"place\" placeholder=\"Название\" minLength=\"1\" maxLength=\"30\" required name=\"name\" ref={inputPlaceName} />\n      <span className=\"popup__text-error\" id=\"place-error\"></span>\n      <input type=\"url\" className=\"popup__input\" id=\"source\" placeholder=\"Ссылка на картинку\" required name=\"object\" ref={inputPlaceLink} />\n      <span className=\"popup__text-error\" id=\"source-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Login({ onSetEmail, onLogin }) {\n  React.useEffect(() => {onSetEmail({ email: 'Регистрация'})},[]);\n\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  function handleEmailChange(e) {\n    setEmail(e.target.value);\n  }\n\n  function handlePasswordChange(e) {\n    setPassword(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    if (!email || !password){\n      return;\n    }\n    onLogin({ password, email});\n    setEmail('');\n    setPassword('');\n  }\n\n  return (\n    <div className=\"auth\">\n      <form className=\"auth__container\" onSubmit={handleSubmit}>\n        <h2 className=\"auth__title\">Вход</h2>\n        <input type=\"email\" value={email} className=\"auth__input\" placeholder=\"Email\" required onChange={handleEmailChange} />\n        <input type=\"password\" value={password}  className=\"auth__input\" placeholder=\"Пароль\" required onChange={handlePasswordChange} />\n        <button type=\"submit\" className=\"auth__submit-button\">Войти</button>\n        <Link to=\"/sign-up\" className=\"auth__redirect\">Ещё не зарегистрированы? Регистрация</Link>\n      </form>\n    </div>\n  );\n}\n\nexport default Login;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Register({ onSetEmail, onRegister }) {\n  React.useEffect(() => {onSetEmail({ email: 'Войти'})}, []);\n\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n\n  function handleEmailChange(e) {\n    setEmail(e.target.value);\n  }\n\n  function handlePasswordChange(e) {\n    setPassword(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    onRegister({ password, email})\n  }\n\n  return (\n      <div className=\"auth\">\n        <form className=\"auth__container\" onSubmit={handleSubmit}>\n          <h2 className=\"auth__title\">Регистрация</h2>\n          <input type=\"email\" value={email} className=\"auth__input\" placeholder=\"Email\" required onChange={handleEmailChange} />\n          <input type=\"password\" value={password} className=\"auth__input\" placeholder=\"Пароль\" required onChange={handlePasswordChange} />\n          <button type=\"submit\" className=\"auth__submit-button\">Зарегистрироваться</button>\n          <Link to=\"/sign-in\" className=\"auth__redirect\">Уже зарегистрированы? Войти</Link>\n        </form>\n      </div>\n  );\n}\n\nexport default Register;\n","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\n      }\n    </Route>\n  );\n}\n\nexport default ProtectedRoute;\n","import React from 'react';\nimport successfulImg from '../images/popup__successful-register.svg';\nimport errImg from '../images/popup__err-register.svg';\n\nfunction InfoTooltip({ isOpen, success, successText, onClose }) {\n  return (\n    <div className={isOpen ? 'popup popup_opened': 'popup'}>\n      <div className=\"popup__container popup__container_register\">\n        <button type=\"button\" className=\"popup__close-button popup__close-button_register\" onClick={onClose}></button>\n        <img className=\"popup__image\" src={success ? successfulImg : errImg} alt={success ? 'галочка в кружке' : 'крестик в кружке'}></img>\n        <h2 className=\"popup__title popup__title_register\">{successText}</h2>\n      </div>\n    </div>\n  );\n}\n\nexport default InfoTooltip;\n","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport api from '../utils/api';\nimport ImagePopup from './ImagePopup';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport { Route, Switch, Redirect, useHistory, withRouter } from 'react-router-dom';\nimport Login from './Login';\nimport Register from './Register';\nimport ProtectedRoute from './ProtectedRoute';\nimport InfoTooltip from './InfoTooltip';\n\nfunction App() {\n  React.useEffect(() => { tokenCheck() }, []);\n\n  const history = useHistory();\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\n  const [isInfoTooltipSuccess, setIsInfoTooltipSuccess] = React.useState(false);\n  const [isInfoTooltipText, setIsInfoTooltipText] = React.useState('');\n  const [selectedCard, setSelectedCard] = React.useState();\n  const [currentUser, setCurrentUser] = React.useState('');\n  const [cards, setCards] = React.useState([]);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [email, setEmail] = React.useState('');\n\n  function handleSetEmail(data) {\n    setEmail(data.email);\n  }\n\n  function handleRegister(data) {\n    api.registerUser(data)\n      .then((res) => {\n        history.push('/sign-in');\n        setIsInfoTooltipText('Вы успешно зарегистрировались!');\n        setIsInfoTooltipOpen(true);\n        setIsInfoTooltipSuccess(true);\n      })\n      .catch((err) => {\n        setIsInfoTooltipText('Что-то пошло не так! Попробуйте еще раз.');\n        setIsInfoTooltipOpen(true);\n        setIsInfoTooltipSuccess(false);\n      });\n  }\n\n  function handleHeaderButton() {\n    if (email === 'Регистрация') {\n      history.push('/sign-up');\n    } else {\n      if (email !== 'Войти') {\n        localStorage.removeItem('token');\n      }\n      history.push('/sign-in');\n    }\n  }\n\n  function handleLogin(data) {\n    api.loginUser(data)\n      .then((res) => {\n        localStorage.setItem('token', res.token);\n        tokenCheck();\n      })\n      .catch((err) => {\n        console.log(`Ошибка входа: ${err}`);\n        setIsInfoTooltipText('Что-то пошло не так! Попробуйте еще раз.');\n        setIsInfoTooltipOpen(true);\n        setIsInfoTooltipSuccess(false);\n      });\n  }\n\n  function tokenCheck() {\n    if (localStorage.getItem('token')){\n      const token = localStorage.getItem('token');\n      api.getUser(token)\n        .then((res) => {\n          loginUser(res);\n          history.push('/');\n        })\n        .catch((err) => console.log('Ошибка проверки токена'));\n    }\n  }\n\n  function loginUser(data) {\n    setLoggedIn(true);\n    handleSetEmail(data);\n    setCurrentUser(data);\n    const token = localStorage.getItem('token');\n    api.getInitialCards(token)\n      .then((data) => {\n        setCards(data.reverse());\n      })\n      .catch((err)=>{\n        console.log(`Ошибка запроса карточек: ${err}`);\n      });\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i === currentUser._id);\n    const token = localStorage.getItem('token');\n    api.changeLikeCardStatus(card.cardId, !isLiked, token)\n      .then((newCard) => {\n        const newCards = cards.map((c) => c._id === card.cardId ? newCard : c);\n        setCards(newCards);\n      })\n      .catch((err)=>{\n        console.log(`Ошибка лайка: ${err}`);\n      });\n  }\n\n  function handleCardDelete(id) {\n    const token = localStorage.getItem('token');\n    api.deleteCard(id.cardId, token)\n      .then(() => {\n        const newCards = cards.filter((c) => {\n          return !(c._id === id.cardId)\n        });\n        setCards(newCards);\n      })\n      .catch((err)=>{\n        console.log(`Ошибка удаления карточки: ${err}`);\n      });\n  }\n\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true);\n  };\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n  };\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n  };\n\n  const handleCardClick = (data) => {\n    setSelectedCard(data);\n  };\n\n  const handleUpdateUser = (data) => {\n    const token = localStorage.getItem('token');\n    api.updateProfileInfo(data, token)\n      .then((newProfile) => {\n        setCurrentUser(newProfile);\n        closeAllPopups();\n      })\n      .catch((err)=>{\n        console.log(`Ошибка обновления профиля: ${err}`);\n      });\n  };\n\n  const handleUpdateAvatar = (data) => {\n    const token = localStorage.getItem('token');\n    api.updateProfileAvatar(data, token)\n      .then((newAvatar) => {\n        setCurrentUser(newAvatar);\n        closeAllPopups();\n      })\n      .catch((err)=>{\n        console.log(`Ошибка обновления аватара: ${err}`);\n      });\n  };\n\n  const handleAddPlace = (data) => {\n    const token = localStorage.getItem('token');\n    api.createCard(data, token)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err)=>{\n        console.log(`Ошибка создания карточки: ${err}`);\n      });\n  };\n\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsInfoTooltipOpen(false);\n    setSelectedCard();\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header email={email} onSignOut={handleHeaderButton} />\n        <Switch>\n          <Route path=\"/sign-in\">\n            <Login onSetEmail={handleSetEmail} onLogin={handleLogin} />\n          </Route>\n          <Route path=\"/sign-up\">\n            <Register onSetEmail={handleSetEmail} onRegister={handleRegister} />\n          </Route>\n          <ProtectedRoute path=\"/\" loggedIn={loggedIn} component={Main} onEditProfile={handleEditProfileClick} onAddPlace={handleAddPlaceClick} onEditAvatar={handleEditAvatarClick} onCardClick={handleCardClick} cards={cards} onCardLike={handleCardLike} onCardDelete={handleCardDelete} />\n          <Route>\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n          </Route>\n        </Switch>\n        <Footer />\n        <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n        <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlace} />\n        <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n        <ImagePopup onClose={closeAllPopups} card={selectedCard} />\n        <InfoTooltip isOpen={isInfoTooltipOpen} success={isInfoTooltipSuccess} onClose={closeAllPopups} successText={isInfoTooltipText} />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default withRouter(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}